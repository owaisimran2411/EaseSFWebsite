<div class="container-fluid">
    <h2>Edit Product - Step 1</h2>
    <p id="jsonDataHolder" style="display: none;">{{productInfoString}}</p>
    <form id="editProductForm" method="POST">
        <div class="mb-3">
            <label for="name" class="form-label">Product Name:</label>
            <input type="text" class="form-control" id="name" name="name" value="{{productInfo.name}}" required>
        </div>
        <div class="mb-3">
            <label for="category" class="form-label">Category:</label>
            <select id="category" name="category" required class="form-select">
                {{#each categories}}
                    <option value="{{this}}" {{#if (eq this ../productInfo.category)}}selected{{/if}}>{{this}}</option>
                {{/each}}
            </select>
        </div>
        <div class="mb-3">
            <label for="price" class="form-label">Price:</label>
            <input type="number" id="price" name="price" value="{{productInfo.price}}" step="0.01" required class="form-control">
        </div>
        <div class="mb-3">
            <label for="quantity" class="form-label">Quantity:</label>
            <input type="number" id="quantity" name="quantity" value="{{productInfo.quantity}}" required class="form-control">
        </div>
        <button type="submit" class="btn btn-primary">Next</button>
    </form>
</div>

<script>
window.addEventListener('load', () => {
    const jsonDataElement = document.getElementById('jsonDataHolder');
    const jsonData = jsonDataElement.textContent;

    sessionStorage.setItem('productUpdateData', jsonData);
});
</script> 